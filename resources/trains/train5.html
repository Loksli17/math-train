<style type="text/css">
    .section {
        width: 600px;
        padding: 40px;
    }

    #canvas {
        border: 1px dashed;
    }


    .button {
        padding: 10px 15px;
        background: #ccc;
        border-radius: 5px;
        width: max-content;
        margin-top: 15px;
    }

    .button:hover {
        transition: 0.5s;
        cursor: pointer;
        background: #fcc;
    }

    .cont-button {
        margin-top: 20px;
    }
</style>







<div class="section" id='section'>


    <canvas id="canvas">
    </canvas>

    <label class="label">
        <span><b>Рёбра графа</b></span>
        <div id="list"></div>
    </label>

    <div class="cont-button">
        <div id='give-desicion' class="button">
            Решить
        </div>
        <div class="result">
        </div>
    </div>
</div>



<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="models/graphVertex.js"></script>
<script type="text/javascript" src="models/graph.js"></script>


<script>
    $(document).ready(function() {
        var canvas = document.getElementById("canvas");
        let graph = new Graph(7, 9, 200, 15, 0, 0, 0);

        //функция изменения размера канваса
        function changeWidthCanvas() {
            context = canvas.getContext("2d");
            var sectionSize = document.getElementById("section").getBoundingClientRect();
            canvas.setAttribute('width', sectionSize.width);
            canvas.setAttribute('height', 600);
        }

        function printList(array) {
            let list = document.createElement("ul");
            for (let el of array) {
                let item = document.createElement("li");
                item.appendChild(document.createTextNode(String.fromCharCode(el.start.name) + String.fromCharCode(el.end.name) + ": " + el.dist));
                list.appendChild(item);
            }
            return list;
        }


        //отрисовка канваса после загрузки страницы
        changeWidthCanvas();

        //отловим изменение окна
        $(window).resize(function() {
            changeWidthCanvas();
            graph.createVertex(canvas);
            graph.draw(canvas);
        });

        graph.createVertex(canvas);
        graph.getDist();
        graph.getIncid();
        graph.removeDoubles();
        graph.calcEccent();
        graph.draw(canvas);

        document.getElementById("list").appendChild(printList(graph.vector));

        canvas.addEventListener('mousedown', function(e) {
            x = e.offsetX;
            y = e.offsetY;
            graph.checkClick(x, y, canvas);
        });

        $('#give-desicion').on('click', function() {
            //проверка решения после нажатия на кнопку

            //пример обхода графа
            for (let i = 0; i < graph.countVertex; i++) {
                for (let j = 0; j < graph.countVertex; j++) {
                    if (!graph.adjac[i][j]) {
                        $('.result').text('Неверно').css({
                            'color': 'red'
                        });
                        $('#give-desicion').hide();
                        return 0;
                    }
                }
            }
            $('.result').text('Верно').css({
                'color': 'green'
            });
            $('#give-desicion').hide();
        });



    });
</script>